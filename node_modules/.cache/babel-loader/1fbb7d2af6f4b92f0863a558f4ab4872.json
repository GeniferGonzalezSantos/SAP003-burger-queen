{"ast":null,"code":"import _objectSpread from \"/home/laboratoria/Desktop/SAP003-burger-queen/burguer-queen/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/laboratoria/Desktop/SAP003-burger-queen/burguer-queen/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/laboratoria/Desktop/SAP003-burger-queen/burguer-queen/src/components/Clientes/Cliente.js\";\nimport React, { useState, useEffect } from 'react';\nimport { db } from '../../firebase.js';\nimport firebase from 'firebase/app';\nimport Card from '../card';\nimport Button from '../button';\nimport Modal from '../modal';\nimport Input from '../input';\nimport './Cliente.css';\n\nfunction TakeOrder() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        dados = _useState2[0],\n        setDados = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        item = _useState4[0],\n        setItem = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        table = _useState6[0],\n        setTable = _useState6[1];\n\n  const _useState7 = useState(''),\n        _useState8 = _slicedToArray(_useState7, 2),\n        cliente = _useState8[0],\n        setCliente = _useState8[1];\n\n  const _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        order = _useState10[0],\n        setOrder = _useState10[1];\n\n  const _useState11 = useState(0),\n        _useState12 = _slicedToArray(_useState11, 2),\n        counter = _useState12[0],\n        setCounter = _useState12[1];\n\n  const _useState13 = useState({\n    status: false\n  }),\n        _useState14 = _slicedToArray(_useState13, 2),\n        modal = _useState14[0],\n        setModal = _useState14[1];\n\n  const _useState15 = useState(''),\n        _useState16 = _slicedToArray(_useState15, 2),\n        options = _useState16[0],\n        setOptions = _useState16[1];\n\n  const _useState17 = useState(''),\n        _useState18 = _slicedToArray(_useState17, 2),\n        extras = _useState18[0],\n        setExtras = _useState18[1];\n\n  useEffect(() => {\n    db.collection('Menu').get().then(snapshot => {\n      const getMenu = snapshot.docs.map(doc => _objectSpread({\n        id: doc.id\n      }, doc.data())); // (console.log(doc.data())) \n\n      setDados(getMenu);\n    });\n  }, [0]);\n\n  const filterMenu = event => {\n    const idItem = event.target.id; //console.log(idItem);\n\n    const showMenu = idItem === 'breakfast' ? true : false;\n    const filterItens = dados.filter(itensMenu => itensMenu.breakfast === showMenu);\n    return setItem(filterItens);\n  }; //console.log(item); \n\n\n  const showOrder = item => {\n    if (order.includes(item)) {\n      item.count++;\n      setCounter(+(counter + item.price * item.count));\n    } else {\n      item.count = 1;\n      setOrder([...order, item]);\n    }\n\n    setCounter(+(counter + item.price));\n  };\n\n  const deleteItem = item => {\n    if (item.count === 1) {\n      const delPrice = counter - item.price;\n      const itemIndex = order.indexOf(item);\n      order.splice(itemIndex, 1);\n      setOrder([...order]);\n      setCounter(delPrice);\n    } else {\n      item.count--;\n      const delPrice = counter - item.price;\n      setCounter(delPrice);\n    }\n  };\n\n  const sendOrder = () => {\n    db.collection('Pedidos').add({\n      clientName: cliente,\n      table: table,\n      order: order,\n      status: 'Pendente',\n      time: firebase.firestore.FieldValue.serverTimestamp()\n    }).then(() => {\n      setOrder([]);\n      setTable(['']);\n      setCliente(['']);\n      setCounter(0);\n    });\n    console.log('Enviado');\n  };\n\n  const selectOptions = () => {\n    if (extras !== '') {\n      const upDateModal = _objectSpread({}, modal.item, {\n        price: modal.item.price + 1,\n        name: `${modal.item.name} ${options}`\n      });\n\n      showOrder(upDateModal);\n      setModal({\n        status: false\n      });\n    } else {\n      const upDateModal = _objectSpread({}, modal.item, {\n        name: `${modal.item.name} ${options}`\n      });\n\n      showOrder(upDateModal);\n      setModal({\n        status: false\n      });\n    }\n  };\n\n  const verifyOptions = item => {\n    if (item.options) {\n      setModal({\n        status: true,\n        item: item\n      });\n    } else {\n      showOrder(item);\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"main\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    key: 'itensMenu',\n    className: \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(Button, {\n    id: \"breakfast\",\n    onClick: filterMenu,\n    children: \"Manh\\xE3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }), React.createElement(Button, {\n    id: \"btn\",\n    onClick: filterMenu,\n    children: \"Tarde\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }))), React.createElement(\"article\", {\n    className: \"article\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    key: dados.id,\n    className: \"card-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, item.map(item => React.createElement(Card, {\n    key: item.id,\n    onClick: () => verifyOptions(item),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, item.name), React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, \"R$\", item.price)))), modal.status ? React.createElement(\"section\", {\n    className: \"s-options\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, \"Op\\xE7\\xF5es\"), modal.item.options.map((element, index) => React.createElement(\"div\", {\n    key: index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(Input, {\n    type: \"radio\",\n    name: \"options\",\n    value: element,\n    onClick: () => setOptions(element),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, element)))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, \"Extras\"), modal.item.extras.map((element, index) => React.createElement(\"div\", {\n    key: index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(Input, {\n    type: \"radio\",\n    name: \"extras\",\n    value: element,\n    onClick: () => setExtras(element),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, element))), React.createElement(Button, {\n    onClick: () => selectOptions(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, \"Selecionar\"))) : false), React.createElement(\"aside\", {\n    className: \"aside\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: \"container-aside\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, React.createElement(Input, {\n    placeholder: \"Cliente\",\n    onChange: event => setCliente(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }), React.createElement(Input, {\n    placeholder: \"Mesa\",\n    onChange: event => setTable(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"map\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, order.map(item => React.createElement(\"p\", {\n    key: item.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, item.count, \" x \", item.name, \"R$ \", item.price, React.createElement(\"button\", {\n    className: \"btn-map\",\n    onClick: e => (e.preventDefault(), deleteItem(item)),\n    children: 'X',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"div-enviar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, \" Total: R$  \", counter, \"  \"), React.createElement(Button, {\n    type: \"button\",\n    children: \"Enviar\",\n    onClick: e => (e.preventDefault(), sendOrder()),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  })))));\n}\n\nexport default TakeOrder;","map":{"version":3,"sources":["/home/laboratoria/Desktop/SAP003-burger-queen/burguer-queen/src/components/Clientes/Cliente.js"],"names":["React","useState","useEffect","db","firebase","Card","Button","Modal","Input","TakeOrder","dados","setDados","item","setItem","table","setTable","cliente","setCliente","order","setOrder","counter","setCounter","status","modal","setModal","options","setOptions","extras","setExtras","collection","get","then","snapshot","getMenu","docs","map","doc","id","data","filterMenu","event","idItem","target","showMenu","filterItens","filter","itensMenu","breakfast","showOrder","includes","count","price","deleteItem","delPrice","itemIndex","indexOf","splice","sendOrder","add","clientName","time","firestore","FieldValue","serverTimestamp","console","log","selectOptions","upDateModal","name","verifyOptions","element","index","value","e","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { db } from '../../firebase.js';\nimport firebase from 'firebase/app';\nimport Card from '../card';\nimport Button from '../button';\nimport Modal from '../modal';\nimport Input from '../input';\nimport './Cliente.css';\n\n\nfunction TakeOrder() {\n  const [dados, setDados] = useState([]);\n  const [item, setItem] = useState([]);\n  const [table, setTable] = useState('');\n  const [cliente, setCliente] = useState('');\n  const [order, setOrder] = useState([]);\n  const [counter, setCounter] = useState(0);\n  const [modal, setModal] = useState({ status: false });\n  const [options, setOptions] = useState('');\n  const [extras, setExtras] = useState('');\n\n  useEffect(() => {\n    db.collection('Menu')\n      .get()\n      .then((snapshot) => {\n        const getMenu = snapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data()\n        }))\n        // (console.log(doc.data())) \n        setDados(getMenu)\n      });\n  }, [0])\n\n  const filterMenu = (event) => {\n    const idItem = event.target.id;\n    //console.log(idItem);\n    const showMenu = (idItem === 'breakfast') ? true : false;\n    const filterItens = dados.filter((itensMenu) => itensMenu.breakfast === showMenu)\n    return setItem(filterItens)\n  }\n  //console.log(item); \n\n  const showOrder = (item) => {\n    if (order.includes(item)) {\n      item.count++;\n      setCounter(+(counter + item.price * item.count));\n    } else {\n      item.count = 1;\n      setOrder([...order, item]);\n    }\n    setCounter(+(counter + item.price));\n  }\n\n  const deleteItem = (item) => {\n    if (item.count === 1) {\n      const delPrice = counter - item.price;\n      const itemIndex = order.indexOf(item);\n      order.splice(itemIndex, 1);\n      setOrder([...order]);\n      setCounter(delPrice);\n    } else {\n      item.count--;\n      const delPrice = counter - item.price;\n      setCounter(delPrice);\n    }\n  }\n\n  const sendOrder = () => {\n    db.collection('Pedidos')\n      .add({\n        clientName: cliente,\n        table: table,\n        order: order,\n        status: 'Pendente',\n        time: firebase.firestore.FieldValue.serverTimestamp()\n      })\n      .then(() => {\n        setOrder([]);\n        setTable(['']);\n        setCliente(['']);\n        setCounter(0);\n      })\n    console.log('Enviado')\n  }\n\n  const selectOptions = () => {\n    if (extras !== '') {\n      const upDateModal = {\n        ...modal.item,\n        price: modal.item.price + 1,\n        name: `${modal.item.name} ${options}`\n      }\n      showOrder(upDateModal);\n      setModal({ status: false });\n    } else {\n      const upDateModal = {\n        ...modal.item,\n        name: `${modal.item.name} ${options}`\n      }\n      showOrder(upDateModal);\n      setModal({ status: false });\n    }\n  }\n\n  const verifyOptions = (item) => {\n    if (item.options) {\n      setModal({ status: true, item: item })\n    } else {\n      showOrder(item);\n    }\n\n  }\n\n\n\n\n  return (\n    <>\n      <main>\n        <div key={'itensMenu'} className='btn'>\n          <Button\n            id='breakfast'\n            onClick={filterMenu}\n            children='Manhã'\n          />\n          <Button\n            id='btn'\n            onClick={filterMenu}\n            children='Tarde'\n          />\n        </div>\n      </main>\n      <article className='article' >\n        <div key={dados.id} className='card-container'>\n          {item.map((item) =>\n            <Card\n              key={item.id}\n              onClick={() => verifyOptions(item)}\n            >\n              <div className='card'>\n                {item.name}\n              </div>\n              <div className='card'>\n                R${item.price}\n              </div>\n            </Card>\n          )}\n        </div>\n        {modal.status ? (\n          <section className='s-options'>\n            <div>\n              <h3>Opções</h3>\n              {modal.item.options.map((element, index) =>\n                <div key={index}>\n                  <Input type='radio' name='options' value={element} onClick={() => setOptions(element)} />\n                  <label>{element}</label>\n                </div>\n              )}\n            </div>\n            <div>\n              <h3>Extras</h3>\n              {modal.item.extras.map((element, index) =>\n                <div key={index}>\n                  <Input type='radio' name='extras' value={element} onClick={() => setExtras(element)} />\n                  <label>{element}</label>\n                </div>\n              )}\n              <Button onClick={() => selectOptions()}>Selecionar</Button>\n            </div>\n          </section>\n        ) : false}\n      </article>\n      <aside className='aside'>\n        <form className='container-aside'>\n          <div className='input'>\n            \n            <Input\n              placeholder='Cliente'\n              onChange={(event) =>\n                setCliente(event.target.value)} />\n            <Input\n              placeholder='Mesa'\n              onChange={(event) =>\n                setTable(event.target.value)} />\n            {/* <p className='p'>{cliente}</p>\n            <p className='p'>{table}</p> */}\n          </div>\n          <div className='map' >\n              {order.map(item => <p key={item.id}>\n                {item.count} x {item.name} \n                R$ {item.price}\n                <button  className='btn-map' onClick={(e) => (e.preventDefault(), deleteItem(item))} children={'X'} />\n              </p>   \n              )}\n            </div>\n            <div className='div-enviar'>\n              <p> Total: R$  {counter}  </p>\n              <Button\n              type='button' children='Enviar' onClick={(e) => (e.preventDefault(), sendOrder())}/>            \n              </div>\n        </form>\n      </aside>\n    </>\n  )\n}\n\n\nexport default TakeOrder;"]},"metadata":{},"sourceType":"module"}